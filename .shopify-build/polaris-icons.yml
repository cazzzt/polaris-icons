containers:
  default:
    docker: circleci/ruby:2.5.1-node-browsers

shared:
  tests: &tests
    label: "🎩 Tests"
    container: default
    timeout: 5m
    dependencies:
      - yarn
    run:
      - yarn run test 
  build: &build
    label: "Build"
    container: default
    timeout: 5m
    dependencies:
      - yarn
    run:
      - yarn run build 

steps:
  - <<: *tests
  - <<: *build