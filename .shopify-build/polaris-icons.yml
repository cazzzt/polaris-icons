containers:
  default:
    docker: circleci/ruby:2.5.1-node-browsers

shared:
  tests: &tests
    label: '🎩 Tests'
    container: default
    timeout: 5m
    dependencies:
      - yarn
    run:
      - yarn run test
  lint: &lint
    label: 'Lint'
    container: default
    timeout: 5m
    dependencies:
      - yarn
    run:
      - yarn run lint
  build: &build
    label: 'Build'
    container: default
    timeout: 5m
    dependencies:
      - yarn
    run:
      - yarn run build

steps:
  - <<: *lint
  - <<: *tests
  - <<: *build
